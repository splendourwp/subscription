!function(s){"use strict";var x=!1,z=function(e){var a=s("<iframe/>"),p=e.data("src");0==e.find("iframe").length&&(a.attr("src",p),a.attr("frameborder","0"),a.attr("allowfullscreen","1"),a.attr("allow","autoplay;encrypted-media;"),e.html(a))},e=function(n,p){n.find(".pp-device-container").eq(0);var e,a,s,o,t,r=(o={},t=(e=n).data("model-cid"),x&&t?(a=elementorFrontend.config.elements.data[t],s=elementorFrontend.config.elements.keys[a.attributes.widgetType||a.attributes.elType],jQuery.each(a.getActiveControls(),function(e){-1!==s.indexOf(e)&&(o[e]=a.attributes[e])})):o=e.data("settings")||{},o),i=n.find(".pp-video").eq(0),l=n.find(".pp-video-player-source"),d=l.get(0),c=n.find(".pp-device-screen"),u=n.find(".pp-player-controls-play"),f=n.find(".pp-player-controls-rewind"),v=(n.find(".pp-video-player-controls"),n.find(".pp-player-controls-bar"),n.find(".pp-player-controls-fs")),m=r.video_source,y=r.restart_on_pause,C=r.stop_others,h=r.autoplay,b=r.playback_speed,g=r.end_at_last_frame,w=r.video_show_buttons,k=(i.data("settings"),n.find(".pp-video-play")),F=n.find(".pp-device-orientation .fas.fa-mobile");k.off("click").on("click",function(e){e.preventDefault();var a=p(this).find(".pp-video-player");z(a)}),"1"==k.data("autoplay")&&z(n.find(".pp-video-player"));var _="";"show"!==w&&(_=n.find(".pp-device-screen")),F.click(function(e){p(this).hasClass("pp-mobile-icon-portrait")?(n.find(".pp-device-container").removeClass("pp-device-orientation-portrait"),n.find(".pp-device-container").addClass("pp-device-orientation-landscape"),p(this).removeClass("pp-mobile-icon-portrait"),p(this).addClass("pp-mobile-icon-landscape")):p(this).hasClass("pp-mobile-icon-landscape")&&(n.find(".pp-device-container").removeClass("pp-device-orientation-landscape"),n.find(".pp-device-container").addClass("pp-device-orientation-portrait"),p(this).addClass("pp-mobile-icon-portrait"),p(this).removeClass("pp-mobile-icon-landscape"))}),"yes"===y&&(y=!0),"yes"===C&&p("video").on("play",function(){p("video").not(this).each(function(e,a){plybtn=p(a).parent().find(".pp-player-controls-play"),plybtn.removeClass("fa-pause"),plybtn.addClass("fa-play"),a.pause()})}),l.on("loadedmetadata",function(){"yes"===h&&u.first().trigger("click"),d.playbackRate=b.size;var e=new Date(null);e.setSeconds(d.duration);var a=e.toISOString().substr(11,8);n.find(".pp-player-controls-duration").text(a)}),l.on("timeupdate",function(){var e=100*d.currentTime/d.duration;n.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width",e+"%");var a=new Date(null);a.setSeconds(d.currentTime);var p=a.toISOString().substr(11,8);n.find(".pp-player-controls-time").text(p),d.currentTime===d.duration&&(c.removeClass("pp-paused"),c.removeClass("pp-playing"),u.removeClass("fa-pause"),u.addClass("fa-play"),n.find(".pp-player-controls-time").text("00:00"),n.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width","0%"),n.find(".pp-video-overlay").css("opacity",""),R=!1)}),l.on("play",function(){n.find(".pp-video-overlay").css("opacity","0")}),l.on("pause",function(){n.find(".pp-player-controls-rewind.pp-video-button").show(),n.find(".pp-video-overlay").css("opacity","")}),n.find(".pp-player-controls-volume-icon").click(function(){return p(this).hasClass("fa-volume-up")?(p(this).removeClass("fa-volume-up"),p(this).addClass("fa-volume-mute")):p(this).hasClass("fa-volume-mute")&&(p(this).removeClass("fa-volume-mute"),p(this).addClass("fa-volume-up")),d.muted=!d.muted,!1});var q=!1;n.find(".pp-player-controls-volume-bar").mousedown(function(e){q=!0,S(e.pageX)}),n.find(".pp-player-controls-volume-bar").mouseup(function(e){q&&(q=!1,S(e.pageX))}),n.find(".pp-player-controls-volume-bar").mousemove(function(e){q&&S(e.pageX)});var S=function(e){var a=n.find(".pp-player-controls-volume-bar"),p=(e-a.offset().left)/a.width(),s=100*p;1<p&&(p=1,s=100),p<0&&(s=p=0),d.volume=p,n.find(".pp-player-controls-volume-bar-amount.pp-player-control-progress-inner").css("width",s+"%")};f.on("click",function(){return d.currentTime=0,!1}),v.on("click",function(){d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.webkitEnterFullscreen?d.webkitEnterFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen?d.msRequestFullscreen():alert("Your browser doesn't support fullscreen")});var T=!1;n.find(".pp-player-controls-progress").mousedown(function(e){T=!0,X(e.pageX)}),n.find(".pp-player-controls-progress").mouseup(function(e){T&&(T=!1,X(e.pageX))}),n.find(".pp-player-controls-progress").mousemove(function(e){T&&X(e.pageX)});var R,X=function(e){var a=n.find(".pp-player-controls-progress"),p=d.duration,s=100*(e-a.offset().left)/a.width();100<s&&(s=100),s<0&&(s=0),d.currentTime=p*s/100,n.find(".pp-player-controls-progress-time.pp-player-control-progress-inner").css("width",s+"%"),"yes"===g&&"yes"!==loop&&100===s&&(plybtn=n.find(" .pp-player-controls-play"),plybtn.removeClass("fa-pause"),plybtn.addClass("fa-play"))};"hosted"==m&&(u.on("click",function(e){return p(this).hasClass("pp-play")?(d.play(),u.removeClass("pp-play fa-play"),u.addClass("pp-pause fa-pause"),c.removeClass("pp-paused"),c.addClass("pp-playing")):p(this).hasClass("pp-pause")&&(d.pause(),u.removeClass("pp-pause fa-pause"),u.addClass("fa-play pp-play"),c.removeClass("pp-playing"),c.addClass("pp-paused"),y&&(d.currentTime=0)),!1}),"show"!==w&&(R=!1,_.on("click",function(e){if(p(this).hasClass("pp-device-screen-video")){if(!R)return d.play(),c.removeClass("pp-paused"),c.addClass("pp-playing"),u.removeClass("fa-play"),u.addClass("fa-pause"),void(R=!0);if(R)return d.pause(),c.removeClass("pp-playing"),c.addClass("pp-paused"),u.removeClass("fa-pause"),u.addClass("fa-play"),void(R=!1)}})))};s(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&(x=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-devices.default",e)})}(jQuery);